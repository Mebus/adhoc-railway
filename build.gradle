subprojects {

    apply plugin: 'java'
    apply plugin: 'eclipse'
    apply plugin: 'maven'
    apply plugin: 'idea'
    apply plugin: 'maven-publish'
    group = 'ch.fork.adhocrailway'
    version = '2.1.1'

    configurations {
        compileOnly
    }

    dependencies {
        testCompile 'junit:junit:4.+'
        testCompile 'org.mockito:mockito-all:1.9.5'
        compile 'org.apache.commons:commons-lang3:3.1'
        compile 'commons-io:commons-io:2.4'
        compile 'log4j:log4j:1.2.17'
    }

    repositories {
        maven {
            url '/home/fork/Code/forkch-mvn-repo'
        }
        mavenCentral()
        maven {
            url "https://raw.github.com/forkch/forkch-mvn-repo/master"
        }
    }

    //Include compileOnly for compilation
    sourceSets.main.compileClasspath += configurations.compileOnly

    // optional: if using 'eclipse' plugin
    eclipse {
        classpath {
            plusConfigurations += configurations.compileOnly
        }
    }

    task sourceJar(type: Jar) {
        from sourceSets.main.allJava
    }

    publishing {
        publications {
            mavenJava(MavenPublication) {
                from components.java

                artifact sourceJar {
                    classifier "sources"
                }
            }
        }
        repositories {
            maven {
                url "/home/fork/Code/forkch-mvn-repo"
            }
        }
    }
}

project(':ch.fork.AdHocRailway.ui') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.domain')
        compile project(':ch.fork.AdHocRailway.service')
        compile project(':ch.fork.AdHocRailway.persistence.xml')
        compile project(':ch.fork.AdHocRailway.persistence.adhocserver')
        compile project(':ch.fork.AdHocRailway.railway.srcp')
        compile project(':ch.fork.AdHocRailway.railway.brain')
    }
}

project(':ch.fork.AdHocRailway.domain') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.service')
    }
}

project(':ch.fork.AdHocRailway.service') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.persistence')
    }
}
project(':ch.fork.AdHocRailway.model') {

}
project(':ch.fork.AdHocRailway.persistence') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.model')
    }
}

project(':ch.fork.AdHocRailway.persistence.xml') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.persistence')
    }
}

project(':ch.fork.AdHocRailway.persistence.adhocserver') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.persistence')
    }
}

project(':ch.fork.AdHocRailway.railway') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.model')
    }
}

project(':ch.fork.AdHocRailway.railway.brain') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.service')
    }
}

project(':ch.fork.AdHocRailway.railway.srcp') {
    dependencies {
        compile project(':ch.fork.AdHocRailway.service')
    }
}

task wrapper(type: Wrapper) {
}
